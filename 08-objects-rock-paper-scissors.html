<!DOCTYPE html>
<html lang="eng">
<head>
  <title>08 Objects</title>
</head>

<body>
<button onclick="
playGame('Rock');


">Rock</button>

<button onclick="
playGame('Paper');

">Paper</button>

<button onclick="
playGame('Scissors');

">Scissors</button>

<button onclick="
score.wins = 0;
score.losses = 0;
score.ties = 0;
localStorage.removeItem('score');
alert('Score reset!');
"
>Reset Score</button>
  
<script>

let score = JSON.parse(localStorage.getItem('score')) || {
  wins: 0,
  losses: 0,
  ties: 0
};

/* un altro modo per fare quello di sopra //

if (!score) {
  score = {
  wins: 0,
  losses: 0,
  ties: 0
  }
}
  */

console.log(JSON.parse(localStorage.getItem('score')));

let scoreMessage =`Wins: ${score.wins}, Losses; ${score.losses}, Ties:${score.ties}`;

function pickComputerMove(){
let computerSelection = '';
const randomNumber = Math.random();

if (randomNumber <0.33) {
 computerSelection = 'Rock';
} else if (randomNumber <= 0.66) {
  computerSelection = 'Paper';
} else {
  computerSelection = 'Scissors';
}
return computerSelection;
};

function playGame(playerMove){
  const computerMove = pickComputerMove()
  let result = '';
    if (playerMove === 'Scissors'){
      if (computerMove === 'Rock'){
        result='You lose!';
      } else if (computerMove === 'Paper'){
        result ='You win!';
      } else 
        result = 'It\'s a tie!';

        }
    else if (playerMove === 'Rock'){
        if (computerMove === 'Paper'){
        result='You lose!';
      } else if (computerMove === 'Scissors'){
        result ='You win!';
      } else 
        result = 'It\'s a tie!';
    }
    else if (playerMove === 'Paper'){
        if (computerMove === 'Scissors'){
        result='You lose!';
      } else if (computerMove === 'Rock'){
        result ='You win!';
      } else 
        result = 'It\'s a tie!';
    }
    if (result === 'You win!'){
      score.wins++
    } else if (result === 'You lose!'){
      score.losses++
    } else if (result === 'It\'s a tie!'){
      score.ties++
    }

    localStorage.setItem('score', JSON.stringify(score));

  alert(`you picked ${playerMove}, Computer picked ${computerMove} - ${result} \n Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}` );
   }

</script>
</body>

</html>